"use strict";var d=require("fs"),m=require("module"),a=require("@esbuild-kit/core-utils"),_=require("get-tsconfig");function c(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var v=c(d),r=c(m),p=c(_);const g=/\.[cm]?tsx?$/,i=p.default(),j=i==null?void 0:i.config,y=a.installSourceMapSupport();function l(e,t){process.send&&process.send({type:"dependency",path:t});const o=v.default.readFileSync(t,"utf8"),s=a.transformSync(o,t,{format:"cjs",tsconfigRaw:j});s.map&&y.set(t,s.map),e._compile(s.code,t)}const f=r.default._extensions;[".js",".ts",".tsx",".jsx"].forEach(e=>{f[e]=l}),[".cjs",".mjs",".cts",".mts"].forEach(e=>{Object.defineProperty(f,e,{value:l,enumerable:!1})});const u=r.default._resolveFilename;r.default._resolveFilename=function(e,t,o,s){if(e.startsWith("node:")&&(e=e.slice(5)),/\.[cm]js$/.test(e)&&t&&g.test(t.filename))try{return u.call(this,`${e.slice(0,-2)}ts`,t,o,s)}catch(n){if(n.code!=="MODULE_NOT_FOUND")throw n}return u.call(this,e,t,o,s)};
